<launch>
  <arg name="with_camera" default="false"/>
  <arg name="camera" default="chest_xtion"/>
  <arg name="map"/>
  <arg name="with_no_go_map" default="false"/>
  <arg name="no_go_map"/>
  
  <!-- lanch map server -->
  <node name="map_server" pkg="map_server" type="map_server" args="$(arg map)"/>
  
  <!-- lanch no-go map server -->
  <node name="no_go_map_server" pkg="map_server" type="map_server" args="$(arg no_go_map)" if="$(arg with_no_go_map)">
    <remap from="/map" to="/no_go_map"/>
  </node>
  <node name="no_go_map_server" pkg="map_server" type="map_server" args="$(arg map)" unless="$(arg with_no_go_map)">
    <remap from="/map" to="/no_go_map"/>
  </node>
  
  <!-- launch AMCL -->
  <include file="$(find bham_b21_2dnav)/launch/amcl.launch"/>
  
  <!-- launch move base -->
  <include file="$(find bham_b21_2dnav)/launch/move_base_3d.launch" if="$(arg with_camera)">
    <arg name="camera" value="$(arg camera)"/>
  </include>
  <include file="$(find bham_b21_2dnav)/launch/move_base.launch" unless="$(arg with_camera)">
  </include>
  
</launch>
